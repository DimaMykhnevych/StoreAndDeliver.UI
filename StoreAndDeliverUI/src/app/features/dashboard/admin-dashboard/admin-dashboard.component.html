<div class="container-fluid">
  <mat-card class="mb-3 mat-elevation-z8">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <h3 class="badge badge-primary">
          {{ "adminFeatures.logsSection" | translate }}
        </h3>
      </div>
      <div class="col-lg-12">
        <form [formGroup]="form">
          <div class="row justify-content-center">
            <div>
              <mat-form-field>
                <mat-label
                  >{{ "adminFeatures.logsDate" | translate }}
                </mat-label>
                <input
                  matInput
                  formControlName="date"
                  placeholder="{{ 'adminFeatures.logsDate' | translate }}"
                  [matDatepicker]="picker"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </form>
      </div>
      <div mat-dialog-actions>
        <div>
          <button
            [disabled]="isLogsLoading"
            type="submit"
            mat-raised-button
            color="primary"
            class="m-1"
            (click)="onGetLogsClick()"
          >
            <app-spinner *ngIf="isLogsLoading" [diameter]="25"></app-spinner>
            <span *ngIf="!isLogsLoading">
              {{ "adminFeatures.getLogs" | translate }}</span
            >
          </button>
          <button class="m-1" mat-raised-button (click)="onClearLogsClick()">
            {{ "adminFeatures.clearLogs" | translate }}
          </button>
          <button
            class="m-1"
            mat-raised-button
            [cdkCopyToClipboard]="logs?.content || ''"
          >
            {{ "common.copyToClipBoard" | translate }}
          </button>
        </div>
      </div>
      <div *ngIf="logs?.content" class="logs col-lg-12">
        <div>
          <pre>{{ logs?.content }}</pre>
        </div>
      </div>
    </div>
  </mat-card>
  <mat-card class="mat-elevation-z8">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <h3 class="badge badge-warning">
          {{ "adminFeatures.backupSection" | translate }}
        </h3>
      </div>
      <div class="col-lg-12">
        <div class="row justify-content-center align-items-center flex-column">
          <h3>
            {{ "adminFeatures.backupInfo" | translate }}
          </h3>
          <div>
            <button
              [disabled]="backupLoading"
              mat-raised-button
              color="primary"
              (click)="onCreateBackupClick()"
            >
              <app-spinner *ngIf="backupLoading" [diameter]="25"></app-spinner>
              <span *ngIf="!backupLoading">
                {{ "adminFeatures.createBackup" | translate }}
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </mat-card>
</div>
